{"ast":null,"code":"var _jsxFileName = \"/home/cyb/shoppingcartReact/src/components/Cartcontext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext({\n  items: [],\n  getProductQuantity: () => {},\n  addOneCart: () => {},\n  removeOneCart: () => {},\n  deleteFromCart: () => {}\n});\nfunction CartProvider(_ref) {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [cartProducts, setCartProducts] = useState([]);\n  function getProductQuantity(id) {\n    var _cartProducts$find;\n    const quantity = (_cartProducts$find = cartProducts.find(product => product.id === id)) === null || _cartProducts$find === void 0 ? void 0 : _cartProducts$find.quantity;\n    if (quantity === undefined) {\n      return 0;\n    }\n    return quantity;\n  }\n  function addOneCart(id) {\n    const quantity = getProductQuantity(id);\n    if (quantity === 0) {\n      setCartProducts([...cartProducts, {\n        id: id,\n        quantity: 1\n      }]);\n    } else {\n      setCartProducts(cartProducts.map(product => product.id === id ? {\n        ...product,\n        quantity: product.quantity + 1\n      } : product));\n    }\n  }\n  function removeOneFromCart(id) {\n    const quantity = getProductQuantity(id);\n    if (quantity === 1) {\n      deleteFromCart(id);\n    } else {\n      setCartProducts(cartProducts.map(product => product.id === id ? {\n        ...product,\n        quantity: product.quantity - 1\n      } : product));\n    }\n  }\n  function deleteFromCart(id) {\n    setCartProducts(cartProducts.filter(currentProduct => currentProduct.id !== id));\n  }\n  const getTotalCost = () => {\n    return cartProducts.reduce((total, product) => total + product.price * product.quantity, 0);\n  };\n  const contextValue = {\n    items: cartProducts,\n    getProductQuantity,\n    addOneCart,\n    removeOneFromCart,\n    deleteFromCart,\n    getTotalCost\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 10\n  }, this);\n}\n_s(CartProvider, \"U6A359Ie+N1Isul8547a+XNDaDk=\");\n_c = CartProvider;\nexport { CartContext, CartProvider };\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","jsxDEV","_jsxDEV","CartContext","items","getProductQuantity","addOneCart","removeOneCart","deleteFromCart","CartProvider","_ref","_s","children","cartProducts","setCartProducts","id","_cartProducts$find","quantity","find","product","undefined","map","removeOneFromCart","filter","currentProduct","getTotalCost","reduce","total","price","contextValue","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/cyb/shoppingcartReact/src/components/Cartcontext.js"],"sourcesContent":["import React, { createContext, useState } from 'react';\n\nconst CartContext = createContext({\n  items: [],\n  getProductQuantity: () => {},\n  addOneCart: () => {},\n  removeOneCart: () => {},\n  deleteFromCart: () => {},\n});\n\nfunction CartProvider({ children }) {\n  const [cartProducts, setCartProducts] = useState([]);\n\n  function getProductQuantity(id) {\n    const quantity = cartProducts.find((product) => product.id === id)?.quantity;\n    if (quantity === undefined) {\n      return 0;\n    }\n    return quantity;\n  }\n\n  function addOneCart(id) {\n    const quantity = getProductQuantity(id);\n\n    if (quantity === 0) {\n      setCartProducts([...cartProducts, { id: id, quantity: 1 }]);\n    } else {\n      setCartProducts(\n        cartProducts.map((product) =>\n          product.id === id ? { ...product, quantity: product.quantity + 1 } : product\n        )\n      );\n    }\n  }\n\n  function removeOneFromCart(id) {\n    const quantity = getProductQuantity(id);\n\n    if (quantity === 1) {\n      deleteFromCart(id);\n    } else {\n      setCartProducts(\n        cartProducts.map((product) =>\n          product.id === id ? { ...product, quantity: product.quantity - 1 } : product\n        )\n      );\n    }\n  }\n\n  function deleteFromCart(id) {\n    setCartProducts(cartProducts.filter((currentProduct) => currentProduct.id !== id));\n  }\n\n  const getTotalCost = () => {\n    return cartProducts.reduce((total, product) => total + product.price * product.quantity, 0);\n  };\n\n  const contextValue = {\n    items: cartProducts,\n    getProductQuantity,\n    addOneCart,\n    removeOneFromCart,\n    deleteFromCart,\n    getTotalCost,\n  };\n\n  return <CartContext.Provider value={contextValue}>{children}</CartContext.Provider>;\n}\n\nexport { CartContext, CartProvider };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}