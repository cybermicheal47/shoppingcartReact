{"ast":null,"code":"var _jsxFileName = \"/home/cyb/shoppingcartReact/src/components/Cartcontext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext({\n  items: [],\n  getProductQuantity: () => {},\n  addOneCart: () => {},\n  removeOneCart: () => {},\n  deleteFromCart: () => {},\n  getTotalCost: () => {}\n});\nfunction CartProvider(_ref) {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [cartProducts, setCartProducts] = useState([]);\n\n  // Load cart items from localStorage on component mount\n  useEffect(() => {\n    const storedCartItems = localStorage.getItem('cartItems');\n    if (storedCartItems) {\n      setCartProducts(JSON.parse(storedCartItems));\n    }\n  }, []);\n\n  // Save cart items to localStorage whenever cartProducts changes\n  useEffect(() => {\n    localStorage.setItem('cartItems', JSON.stringify(cartProducts));\n  }, [cartProducts]);\n  function getProductQuantity(id) {\n    var _cartProducts$find;\n    const quantity = (_cartProducts$find = cartProducts.find(product => product.id === id)) === null || _cartProducts$find === void 0 ? void 0 : _cartProducts$find.quantity;\n    if (quantity === undefined) {\n      return 0;\n    }\n    return quantity;\n  }\n  function addOneCart(id) {\n    setCartProducts(prevCartProducts => {\n      const quantity = getProductQuantity(id);\n      if (quantity === 0) {\n        return [...prevCartProducts, {\n          id: id,\n          quantity: 1\n        }];\n      } else {\n        return prevCartProducts.map(product => product.id === id ? {\n          ...product,\n          quantity: product.quantity + 1\n        } : product);\n      }\n    });\n  }\n\n  // Rest of the functions...\n\n  const contextValue = {\n    items: cartProducts,\n    getProductQuantity,\n    addOneCart,\n    removeOneFromCart,\n    deleteFromCart\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 10\n  }, this);\n}\n_s(CartProvider, \"1vZFkuJ5maOjtoKCHFGNLl5YheQ=\");\n_c = CartProvider;\nexport { CartContext, CartProvider };\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","jsxDEV","_jsxDEV","CartContext","items","getProductQuantity","addOneCart","removeOneCart","deleteFromCart","getTotalCost","CartProvider","_ref","_s","children","cartProducts","setCartProducts","storedCartItems","localStorage","getItem","JSON","parse","setItem","stringify","id","_cartProducts$find","quantity","find","product","undefined","prevCartProducts","map","contextValue","removeOneFromCart","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/cyb/shoppingcartReact/src/components/Cartcontext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\n\nconst CartContext = createContext({\n  items: [],\n  getProductQuantity: () => {},\n  addOneCart: () => {},\n  removeOneCart: () => {},\n  deleteFromCart: () => {},\n  getTotalCost: () => {}\n});\n\nfunction CartProvider({ children }) {\n  const [cartProducts, setCartProducts] = useState([]);\n\n  // Load cart items from localStorage on component mount\n  useEffect(() => {\n    const storedCartItems = localStorage.getItem('cartItems');\n    if (storedCartItems) {\n      setCartProducts(JSON.parse(storedCartItems));\n    }\n  }, []);\n\n  // Save cart items to localStorage whenever cartProducts changes\n  useEffect(() => {\n    localStorage.setItem('cartItems', JSON.stringify(cartProducts));\n  }, [cartProducts]);\n\n  function getProductQuantity(id) {\n    const quantity = cartProducts.find((product) => product.id === id)?.quantity;\n    if (quantity === undefined) {\n      return 0;\n    }\n    return quantity;\n  }\n\n  function addOneCart(id) {\n    setCartProducts((prevCartProducts) => {\n      const quantity = getProductQuantity(id);\n\n      if (quantity === 0) {\n        return [...prevCartProducts, { id: id, quantity: 1 }];\n      } else {\n        return prevCartProducts.map((product) =>\n          product.id === id ? { ...product, quantity: product.quantity + 1 } : product\n        );\n      }\n    });\n  }\n\n  // Rest of the functions...\n\n  const contextValue = {\n    items: cartProducts,\n    getProductQuantity,\n    addOneCart,\n    removeOneFromCart,\n    deleteFromCart\n  };\n\n  return <CartContext.Provider value={contextValue}>{children}</CartContext.Provider>;\n}\n\nexport { CartContext, CartProvider };\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElE,MAAMC,WAAW,gBAAGL,aAAa,CAAC;EAChCM,KAAK,EAAE,EAAE;EACTC,kBAAkB,EAAEA,CAAA,KAAM,CAAC,CAAC;EAC5BC,UAAU,EAAEA,CAAA,KAAM,CAAC,CAAC;EACpBC,aAAa,EAAEA,CAAA,KAAM,CAAC,CAAC;EACvBC,cAAc,EAAEA,CAAA,KAAM,CAAC,CAAC;EACxBC,YAAY,EAAEA,CAAA,KAAM,CAAC;AACvB,CAAC,CAAC;AAEF,SAASC,YAAYA,CAAAC,IAAA,EAAe;EAAAC,EAAA;EAAA,IAAd;IAAEC;EAAS,CAAC,GAAAF,IAAA;EAChC,MAAM,CAACG,YAAY,EAAEC,eAAe,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;;EAEpD;EACAC,SAAS,CAAC,MAAM;IACd,MAAMgB,eAAe,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IACzD,IAAIF,eAAe,EAAE;MACnBD,eAAe,CAACI,IAAI,CAACC,KAAK,CAACJ,eAAe,CAAC,CAAC;IAC9C;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAhB,SAAS,CAAC,MAAM;IACdiB,YAAY,CAACI,OAAO,CAAC,WAAW,EAAEF,IAAI,CAACG,SAAS,CAACR,YAAY,CAAC,CAAC;EACjE,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAElB,SAAST,kBAAkBA,CAACkB,EAAE,EAAE;IAAA,IAAAC,kBAAA;IAC9B,MAAMC,QAAQ,IAAAD,kBAAA,GAAGV,YAAY,CAACY,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAACJ,EAAE,KAAKA,EAAE,CAAC,cAAAC,kBAAA,uBAAjDA,kBAAA,CAAmDC,QAAQ;IAC5E,IAAIA,QAAQ,KAAKG,SAAS,EAAE;MAC1B,OAAO,CAAC;IACV;IACA,OAAOH,QAAQ;EACjB;EAEA,SAASnB,UAAUA,CAACiB,EAAE,EAAE;IACtBR,eAAe,CAAEc,gBAAgB,IAAK;MACpC,MAAMJ,QAAQ,GAAGpB,kBAAkB,CAACkB,EAAE,CAAC;MAEvC,IAAIE,QAAQ,KAAK,CAAC,EAAE;QAClB,OAAO,CAAC,GAAGI,gBAAgB,EAAE;UAAEN,EAAE,EAAEA,EAAE;UAAEE,QAAQ,EAAE;QAAE,CAAC,CAAC;MACvD,CAAC,MAAM;QACL,OAAOI,gBAAgB,CAACC,GAAG,CAAEH,OAAO,IAClCA,OAAO,CAACJ,EAAE,KAAKA,EAAE,GAAG;UAAE,GAAGI,OAAO;UAAEF,QAAQ,EAAEE,OAAO,CAACF,QAAQ,GAAG;QAAE,CAAC,GAAGE,OACvE,CAAC;MACH;IACF,CAAC,CAAC;EACJ;;EAEA;;EAEA,MAAMI,YAAY,GAAG;IACnB3B,KAAK,EAAEU,YAAY;IACnBT,kBAAkB;IAClBC,UAAU;IACV0B,iBAAiB;IACjBxB;EACF,CAAC;EAED,oBAAON,OAAA,CAACC,WAAW,CAAC8B,QAAQ;IAACC,KAAK,EAAEH,YAAa;IAAAlB,QAAA,EAAEA;EAAQ;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAuB,CAAC;AACrF;AAAC1B,EAAA,CAjDQF,YAAY;AAAA6B,EAAA,GAAZ7B,YAAY;AAmDrB,SAASP,WAAW,EAAEO,YAAY;AAAG,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}